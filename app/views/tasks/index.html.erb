<h1><%= t('view.index') %></h1>
<p><%= notice %></p>
<h4>検索</h4>
<%= form_with(model: @task, url: tasks_path, method: :get, local:true) do |f| %>
  <%= f.text_field :title, placeholder: "あいまい検索" %>
  <%= f.submit t('view.search') %>
<% end %>
# 進捗で絞り込み find_by(progress: )
<h4>ソート</h4>
<%= link_to t('view.sort_limit') , tasks_path(sort_params: "limit") %>
<table>
  <tr>
    <th><%= t('view.title') %></th>
    <th><%= t('view.limit') %></th>
    <th><%= t('view.progress') %></th>
    <th><%= t('view.priority') %></th>
    # <th><%#= t('view.tag') %></th>
  <tr/>
  <% @tasks.each do |task| %>
    <tr>
      <td class = 'sort_limit'><%= task.title %></td>
      <td class = 'sort_limit'><%= task.limit %></td>
      <td class = 'sort_limit'><%= task.progress %></td>
      # <td><%#= task.priority %></td>
      # <td><%#= task.tags.title %></td>
      <td><%= link_to t('view.show'), task_path(task.id) %></td> |
      <td><%= link_to t('view.edit'), edit_task_path(task.id) %></td> |
      <td><%= link_to t('view.destroy'), task_path(task.id),
                method: :delete,data: { confirm: t('confirm.delete') } %>
      </td>
    </tr>
  <% end %>
</table>
<br>
<%= link_to t('view.new'), new_task_path %>